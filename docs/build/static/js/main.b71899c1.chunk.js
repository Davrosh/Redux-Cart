(this["webpackJsonpredux-cart"]=this["webpackJsonpredux-cart"]||[]).push([[0],{20:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),l=a.n(c),o=(a(25),a(7)),i=Object(o.b)((function(e){return{amount:e.amount,loading:e.loading,error:e.error}}))((function(e){var t=e.amount,a=e.loading,n=e.error;return a||n?r.a.createElement("nav",null):r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-center"},r.a.createElement("h3",{className:"nav-center__title"},"ReduxGear"),r.a.createElement("div",{className:"pic-container"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z"})),r.a.createElement("div",{className:"pic-container__amount-container"},r.a.createElement("p",{className:"total-amount"},t)))))})),m=Object(o.b)(null,(function(e,t){var a=t.id;return{remove:function(){return e(function(e){return{type:"REMOVE",payload:{id:e}}}(a))},toggle:function(t){return e(function(e,t){return{type:"TOGGLE_AMOUNT",payload:{id:e,toggle:t}}}(a,t))}}}))((function(e){var t=e.img,a=e.title,n=e.price,c=e.amount,l=e.remove,o=e.toggle;return r.a.createElement("div",{className:"cart-item"},r.a.createElement("img",{src:t,alt:a,className:"cart-item__img"}),r.a.createElement("div",{className:"cart-item__desc"},r.a.createElement("h4",{className:"cart-item__title"},a),r.a.createElement("h4",{className:"cart-item__item-price"},"$",n),r.a.createElement("button",{className:"remove-btn",onClick:function(){return l()}},"remove")),r.a.createElement("div",{className:"cart-item__amount"},r.a.createElement("button",{className:"amount-btn",onClick:function(){return o("inc")}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z"}))),r.a.createElement("p",{className:"amount"},c),r.a.createElement("button",{className:"amount-btn",onClick:function(){return c>1?o("dec"):l()}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))))})),u=Object(o.b)((function(e){return{cart:e.cart,total:e.total,loading:e.loading,error:e.error}}))((function(e){var t=e.loading,a=e.error,c=e.dispatch,l=e.total,o=e.cart,i=void 0===o?[]:o;return Object(n.useEffect)((function(){c({type:"GET_TOTALS"})}),[i,c]),Object(n.useEffect)((function(){c({type:"REQUEST_DISPLAY_ITEMS"})}),[c]),t?r.a.createElement("section",{className:"cart"},r.a.createElement("header",{className:"cart__header"},r.a.createElement("h2",null,"loading..."))):a?r.a.createElement("section",{className:"cart"},r.a.createElement("header",{className:"cart__header"},r.a.createElement("h2",null,"error!"))):0===i.length?r.a.createElement("section",{className:"cart"},r.a.createElement("header",{className:"cart__header"},r.a.createElement("h2",null,"your bag"),r.a.createElement("h4",{className:"empty-cart"},"is currently empty"))):r.a.createElement("section",{className:"cart"},r.a.createElement("header",{className:"cart__header"},r.a.createElement("h2",null,"your bag")),r.a.createElement("article",{className:"cart__container"},i.map((function(e){return r.a.createElement(m,Object.assign({key:e.id},e))}))),r.a.createElement("footer",{className:"cart__footer"},r.a.createElement("hr",null),r.a.createElement("div",{className:"cart__total"},r.a.createElement("h4",null,"total ",r.a.createElement("span",{className:"cart__amount"},"$",l))),r.a.createElement("button",{className:"btn clear-btn",onClick:function(){return c({type:"CLEAR_CART"})}},"clear cart")))})),s=a(8),E=a(19),p=a(4),d={cart:[{id:1,title:"Samsung Galaxy S7",price:599.99,img:"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png",amount:1},{id:2,title:"google pixel ",price:499.99,img:"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png",amount:1},{id:3,title:"Xiaomi Redmi Note 2",price:699.99,img:"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png",amount:1}],total:0,amount:0,loading:!1,error:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;if("CLEAR_CART"===t.type)return Object(p.a)(Object(p.a)({},e),{},{cart:[],total:0,amount:0});if("REMOVE"===t.type){var a=t.payload.id,n=e.cart,r=e.total,c=e.amount;return n=n.filter((function(e){return e.id!==a})),Object(p.a)(Object(p.a)({},e),{},{cart:n,total:r,amount:c})}if("TOGGLE_AMOUNT"===t.type){var l=e.cart,o=e.total,i=e.amount;return"inc"===t.payload.toggle&&(l=l.map((function(e){return t.payload.id===e.id&&(e.amount+=1),e}))),"dec"===t.payload.toggle&&(l=l.map((function(e){return t.payload.id===e.id&&(e.amount-=1),e}))),Object(p.a)(Object(p.a)({},e),{},{cart:l,total:o,amount:i})}if("GET_TOTALS"===t.type){var m=0,u=0;return e.cart.forEach((function(e){m+=e.price*e.amount,u+=e.amount})),m=parseFloat(m.toFixed(2)),Object(p.a)(Object(p.a)({},e),{},{total:m,amount:u})}return"LOADING"===t.type?Object(p.a)(Object(p.a)({},e),{},{loading:!0}):"NOT_LOADING"===t.type?Object(p.a)(Object(p.a)({},e),{},{loading:!1}):"RECEIVE_DISPLAY_ITEMS"===t.type?Object(p.a)(Object(p.a)({},e),{},{cart:t.payload.cart}):"ERROR_DISPLAY_ITEMS"===t.type?Object(p.a)(Object(p.a)({},e),{},{error:!0}):e},v=a(9),b=a.n(v),O=a(18),f=a(10),h=b.a.mark(y),g=b.a.mark(j),N=function(){var e=Object(O.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://course-api.com/react-useReducer-cart-project");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function y(e){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)({type:"LOADING"});case 3:return e.next=5,Object(f.a)(N);case 5:return t=e.sent,e.next=8,Object(f.b)({type:"RECEIVE_DISPLAY_ITEMS",payload:{cart:t}});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Object(f.b)({type:"ERROR_DISPLAY_ITEMS"});case 14:return e.next=16,Object(f.b)({type:"NOT_LOADING"});case 16:case"end":return e.stop()}}),h,null,[[0,10]])}function j(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)("REQUEST_DISPLAY_ITEMS",y);case 2:case"end":return e.stop()}}),g)}var w=Object(E.a)(),T=Object(s.d)(_,Object(s.c)(Object(s.a)(w),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));w.run(j);var x=function(){return r.a.createElement(o.a,{store:T},r.a.createElement(i,null),r.a.createElement(u,null))};l.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b71899c1.chunk.js.map