{"version":3,"sources":["components/Navbar.js","components/CartItem.js","actions.js","components/CartContainer.js","reducer.js","cart-items.js","fetchSaga.js","App.js","index.js"],"names":["connect","state","amount","loading","error","className","xmlns","viewBox","d","dispatch","ownProps","id","remove","type","payload","removeItem","toggle","toggleAmount","img","title","price","src","alt","onClick","cart","total","useEffect","length","map","item","key","initialState","reducer","action","filter","forEach","parseFloat","toFixed","getApiData","mySaga","fetchData","a","fetch","response","json","data","put","call","takeLatest","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","run","fetchSaga","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b71899c1.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nconst Navbar = ({amount, loading, error}) => {\n\n  if(loading || error) {\n    return (\n      <nav>\n      </nav>\n    )\n  }\n\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3 className=\"nav-center__title\">ReduxGear</h3>\n        <div className=\"pic-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n          </svg>\n          <div className=\"pic-container__amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return { amount: state.amount, loading: state.loading, error:state.error };\n};\n\nexport default connect(mapStateToProps)(Navbar);\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { removeItem, toggleAmount } from \"../actions\";\n\nconst CartItem = ({ img, title, price, amount, remove, toggle }) => {\n\n  return (\n    <div className=\"cart-item\">\n      <img src={img} alt={title} className=\"cart-item__img\"/>\n      <div className=\"cart-item__desc\">\n        <h4 className=\"cart-item__title\">{title}</h4>\n        <h4 className=\"cart-item__item-price\">${price}</h4>\n        {/* remove button */}\n        <button\n          className=\"remove-btn\"\n          onClick={() => {\n            return remove();\n          }}\n        >\n          remove\n        </button>\n      </div>\n      <div className=\"cart-item__amount\">\n        {/* increase amount */}\n        <button\n          className=\"amount-btn\"\n          onClick={() => {\n            return toggle(\"inc\");\n          }}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button\n          className=\"amount-btn\"\n          onClick={() => {\n            if (amount > 1) {\n              return toggle(\"dec\");\n            } else {\n              return remove();\n            }\n          }}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\n\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { id } = ownProps;\n  return {\n    remove: () => {\n      return dispatch(removeItem(id));\n    },\n\n    toggle: (toggle) => {\n      return dispatch(toggleAmount(id, toggle));\n    },\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(CartItem);\n","export const DECREASE = \"DECREASE\";\nexport const INCREASE = \"INCREASE\";\nexport const REMOVE = \"REMOVE\";\nexport const CLEAR_CART = \"CLEAR_CART\";\nexport const GET_TOTALS = \"GET_TOTALS\";\nexport const TOGGLE_AMOUNT = \"TOGGLE_AMOUNT\";\n\nexport const LOADING = \"LOADING\";\nexport const NOT_LOADING = \"NOT_LOADING\"\n\nexport const REQUEST_DISPLAY_ITEMS = \"REQUEST_DISPLAY_ITEMS\";\nexport const RECEIVE_DISPLAY_ITEMS = \"RECEIVE_DISPLAY_ITEMS\";\nexport const ERROR_DISPLAY_ITEMS = \"ERROR_DISPLAY_ITEMS\"\n\n// action invokers\nexport const clearCart = () => {\n    return {\n        type: CLEAR_CART\n    }\n}\n\nexport const removeItem = id => {\n    return {\n        type: REMOVE,\n        payload: {id}\n    }\n}\n\nexport const toggleAmount = (id, toggle) => {\n    return {\n        type: TOGGLE_AMOUNT,\n        payload: {id, toggle}\n    }\n}\n\nexport const getTotals = () => {\n    return {\n        type: GET_TOTALS\n    }\n}\n\nexport const loading = () => {\n    return {\n        type: LOADING\n    }\n}\n\nexport const notLoading = () => {\n    return {\n        type: NOT_LOADING\n    }\n}\n\nexport const requestDisplayItems = () => {\n    return {\n        type: REQUEST_DISPLAY_ITEMS\n    }\n}\n\nexport const receiveDisplayItems = cart => {\n    return {\n        type: RECEIVE_DISPLAY_ITEMS,\n        payload: {cart}\n    }\n}\n\nexport const errorDisplayItems = () => {\n    return {\n        type: ERROR_DISPLAY_ITEMS\n    }\n}\n\n","import React, { useEffect } from \"react\";\nimport CartItem from \"./CartItem\";\n\nimport { connect } from \"react-redux\";\n\nimport { clearCart, getTotals, requestDisplayItems } from \"../actions\";\n\nconst CartContainer = ({ loading, error, dispatch, total, cart = [] }) => {\n  useEffect(() => {\n    dispatch(getTotals());\n  }, [cart, dispatch]);\n\n  useEffect(() => {\n    dispatch(requestDisplayItems());\n  }, [dispatch]);\n\n  if (loading) {\n    return (\n      <section className=\"cart\">\n        <header className=\"cart__header\">\n          <h2>loading...</h2>\n        </header>\n      </section>\n    );\n  }\n\n  if (error) {\n    return (\n      <section className=\"cart\">\n        <header className=\"cart__header\">\n          <h2>error!</h2>\n        </header>\n      </section>\n    );\n  }\n\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header className=\"cart__header\">\n          <h2 >your bag</h2>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header className=\"cart__header\">\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <article className=\"cart__container\">\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </article>\n      {/* cart footer */}\n      <footer className=\"cart__footer\">\n        <hr />\n        <div className=\"cart__total\">\n          <h4>\n            total <span className=\"cart__amount\">${total}</span>\n          </h4>\n        </div>\n        <button\n          className=\"btn clear-btn\"\n          onClick={() => {\n            return dispatch(clearCart());\n          }}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cart: state.cart,\n    total: state.total,\n    loading: state.loading,\n    error: state.error,\n  };\n};\n\nexport default connect(mapStateToProps)(CartContainer);\n","// items\nimport cartItems from \"./cart-items\";\n\nimport {\n  CLEAR_CART,\n  ERROR_DISPLAY_ITEMS,\n  GET_TOTALS,\n  LOADING,\n  NOT_LOADING,\n  RECEIVE_DISPLAY_ITEMS,\n  REMOVE,\n  TOGGLE_AMOUNT,\n} from \"./actions\";\n\nconst initialState = {\n  cart: cartItems,\n  total: 0,\n  amount: 0,\n  loading: false,\n  error: false,\n};\n\nconst reducer = (state = initialState, action) => {\n  if (action.type === CLEAR_CART) {\n    return { ...state, cart: [], total: 0, amount: 0 };\n  }\n  if (action.type === REMOVE) {\n    const { id } = action.payload;\n    let { cart, total, amount } = state;\n    cart = cart.filter((item) => {\n      if (item.id === id) {\n        // total -= item.price * item.amount;\n        // amount -= item.amount;\n        return false;\n      }\n      return true;\n    });\n    return { ...state, cart, total, amount };\n  }\n  if (action.type === TOGGLE_AMOUNT) {\n    let { cart, total, amount } = state;\n    if (action.payload.toggle === \"inc\") {\n      cart = cart.map((item) => {\n        if (action.payload.id === item.id) {\n          // total += item.price;\n          // amount += 1;\n          item.amount += 1;\n        }\n        return item;\n      });\n    }\n    if (action.payload.toggle === \"dec\") {\n      cart = cart.map((item) => {\n        if (action.payload.id === item.id) {\n          // total -= item.price;\n          // amount -= 1;\n          item.amount -= 1;\n        }\n        return item;\n      });\n    }\n\n    return { ...state, cart, total, amount };\n  }\n  if (action.type === GET_TOTALS) {\n    let total = 0;\n    let amount = 0;\n    state.cart.forEach((item) => {\n      total += item.price * item.amount;\n      amount += item.amount;\n    });\n    total = parseFloat(total.toFixed(2));\n    return { ...state, total, amount };\n  }\n  if (action.type === LOADING) {\n    return { ...state, loading: true };\n  }\n  if (action.type === NOT_LOADING) {\n    return { ...state, loading: false };\n  }\n  if (action.type === RECEIVE_DISPLAY_ITEMS) {\n    return { ...state, cart: action.payload.cart };\n  }\n  if(action.type === ERROR_DISPLAY_ITEMS) {\n    return {...state, error: true};\n  }\n\n  return state;\n};\n\n// initial state using default parameter\nexport default reducer;\n","export default [\n  {\n    id: 1,\n    title: \"Samsung Galaxy S7\",\n    price: 599.99,\n    img:\n      \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png\",\n    amount: 1\n  },\n  {\n    id: 2,\n    title: \"google pixel \",\n    price: 499.99,\n    img:\n      \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png\",\n    amount: 1\n  },\n  {\n    id: 3,\n    title: \"Xiaomi Redmi Note 2\",\n    price: 699.99,\n    img:\n      \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png\",\n    amount: 1\n  }\n];\n","import { call, put, takeLatest } from \"redux-saga/effects\";\n\nimport { REQUEST_DISPLAY_ITEMS, receiveDisplayItems, loading, errorDisplayItems, notLoading } from \"./actions\";\n// import { fetchData } from \"./api\";\n\nconst fetchData = async () => {\n  const response = await fetch(\n    \"https://course-api.com/react-useReducer-cart-project\"\n  );\n  const data = await response.json();\n  return data;\n};\n\n// worker Saga: will be fired on REQUEST_DISPLAY_ITEMS action\nfunction* getApiData(action) {\n  try {\n\n    // do api call\n    yield put(loading());\n    const data = yield call(fetchData);\n    yield put(receiveDisplayItems(data));\n  } catch (e) {\n    yield put(errorDisplayItems());\n  }\n  yield put(notLoading());\n}\n\nexport default function* mySaga() {\n  yield takeLatest(REQUEST_DISPLAY_ITEMS, getApiData);\n}\n","import React from \"react\";\n// components\nimport Navbar from \"./components/Navbar\";\nimport CartContainer from \"./components/CartContainer\";\n\n// redux stuff\n\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport reducer from \"./reducer\";\n\n\nimport fetchSaga from './fetchSaga';\n\n// create the saga middleware\nconst sagaMiddleware = createSagaMiddleware();\n// mount it on the Store \n\n// to be able to use redux devtools extension\nconst store = createStore(\n  reducer,\n  compose(applyMiddleware(sagaMiddleware),window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n);\n\n// then run the saga\nsagaMiddleware.run(fetchSaga);\n\nfunction App() {\n  // cart setup\n\n  return (\n    <Provider store={store}>\n      <Navbar />\n      <CartContainer />\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import \"./index.css\";\nimport \"./style.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}